@use 'sass:map';

@mixin theme($theme) {
  xui-progress {
    display: flex;
    align-items: center;
    height: 24px;
  }

  .xui-progress-indicator {
    $background: map.get($theme, background);

    flex: 1 1 auto;
    min-width: 200px;
    height: 8px;
    display: flex;

    background-color: map.get($background, primary);
    border-radius: 4px;
    margin-right: 12px;
  }

  .xui-progress-indicator-status {
    border-radius: 4px;
  }

  .xui-progress-status-success {
    $success: map.get($theme, success);
    width: 80%;
    color: map.get($success, default);
  }

  .xui-progress-status-error {
    flex: 0 0 32px;
    $destructive: map.get($theme, destructive);
    width: 80%;
    color: map.get($destructive, default);
  }

  @include generateColor($theme, primary);
  @include generateColor($theme, primary-alt);
  @include generateColor($theme, secondary);
  @include generateColor($theme, warn);
  @include generateColor($theme, destructive);
  @include generateColor($theme, success);
}

@mixin generateColor($theme, $name) {
  .xui-progress-indicator-#{$name} {
    $palette: map.get($theme, $name);
    background-color: map.get($palette, default);
  }
}
