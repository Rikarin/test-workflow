@use 'sass:map';
@use '../theming/theming';

@mixin theme($theme) {
  xui-progress {
    display: flex;
    align-items: center;
    height: 24px;
  }

  .xui-progress-indicator {
    flex: 1 1 auto;
    min-width: 200px;
    height: 8px;
    display: flex;

    background-color: theming.get-color($theme, background, primary);
    border-radius: 4px;
    margin-right: 12px;
  }

  .xui-progress-indicator-status {
    border-radius: 4px;
  }

  .xui-progress-status-success {
    width: 80%;
    color: theming.get-color($theme, success);
  }

  .xui-progress-status-error {
    flex: 0 0 32px;
    width: 80%;
    color: theming.get-color($theme, error);
  }

  @include generate-color-variations($theme);
}

@mixin generate-color-variations($theme) {
  $colors: map.get($theme, color);

  @each $key, $value in $colors {
    @if map.has-key($value, default) {
      .xui-progress-indicator-#{$key} {
        background-color: map.get($value, default);
      }
    }
  }
}
